{"version":3,"file":"enum.bundle.js","names":["t","Object","prototype","toString","isNumber","v","call","Number","valueOf","isString","isArray","Array","isObject","typeGet","slice","Enum","hasProp","nullObj","hasOwnProperty","create","constructor","pairs","arr","options","arguments","length","undefined","i","key","len","opt","value","assign","default","next","TypeError","forKeys","cb","thisArg","forValues","ref","forEach","keys","results","push","values","hasKey","hasValue","raw","rawEnm","index","new","obj","enm","fromRaw","Symbol","Enum$1"],"sources":["../node_modules/@voidvolker/is/src/is.js","../src/enum.js"],"sourcesContent":["// Generated by CoffeeScript 2.7.0\nvar t;\n\nt = Object.prototype.toString;\n\nexport var isBoolean = function(v) {\n  return t.call(v) === '[object Boolean]';\n};\n\nexport var isNumber = function(v) {\n  return (t.call(v) === '[object Number]') && Number(v).valueOf() == v; // Excludes NaN, includes Number() and Infinity\n};\n\nexport var isString = function(v) {\n  return t.call(v) === '[object String]';\n};\n\nexport var isArray = Array.isArray; // t.call(v) is '[object Array]'\n\nexport var isObject = function(v) {\n  return t.call(v) === '[object Object]';\n};\n\nexport var isFunction = function(v) {\n  return typeof v === 'function';\n};\n\nexport var typeGet = function(v) {\n  return t.call(v).slice(8, -1); // WARNING! typeGet(NaN) === 'Number'\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMuanMiLCJzb3VyY2VSb290IjoiLi4vIiwic291cmNlcyI6WyJzcmMvaXMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBOztBQUFBLENBQUEsR0FBSSxNQUFNLENBQUMsU0FBUyxDQUFDOztBQUVyQixPQUFBLElBQU8sU0FBQSxHQUFnQixRQUFBLENBQUMsQ0FBRCxDQUFBO1NBQU8sQ0FBQyxDQUFDLElBQUYsQ0FBTyxDQUFQLENBQUEsS0FBYTtBQUFwQjs7QUFDdkIsT0FBQSxJQUFPLFFBQUEsR0FBZ0IsUUFBQSxDQUFDLENBQUQsQ0FBQTtTQUFPLENBQUMsQ0FBQyxDQUFDLElBQUYsQ0FBTyxDQUFQLENBQUEsS0FBYSxpQkFBZCxDQUFBLElBQXNDLHlCQUE3QztBQUFBOztBQUN2QixPQUFBLElBQU8sUUFBQSxHQUFnQixRQUFBLENBQUMsQ0FBRCxDQUFBO1NBQU8sQ0FBQyxDQUFDLElBQUYsQ0FBTyxDQUFQLENBQUEsS0FBYTtBQUFwQjs7QUFDdkIsT0FBQSxJQUFPLE9BQUEsR0FBZ0IsS0FBSyxDQUFDLFFBTDdCOztBQU1BLE9BQUEsSUFBTyxRQUFBLEdBQWdCLFFBQUEsQ0FBQyxDQUFELENBQUE7U0FBTyxDQUFDLENBQUMsSUFBRixDQUFPLENBQVAsQ0FBQSxLQUFhO0FBQXBCOztBQUN2QixPQUFBLElBQU8sVUFBQSxHQUFnQixRQUFBLENBQUMsQ0FBRCxDQUFBO1NBQU8sT0FBTyxDQUFQLEtBQVk7QUFBbkI7O0FBQ3ZCLE9BQUEsSUFBTyxPQUFBLEdBQWdCLFFBQUEsQ0FBQyxDQUFELENBQUE7U0FBTyxDQUFDLENBQUMsSUFBRixDQUFPLENBQVAsQ0FBUyxDQUFDLEtBQVYsQ0FBZ0IsQ0FBaEIsRUFBbUIsQ0FBQyxDQUFwQixFQUFQO0FBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJ0ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG5leHBvcnQgaXNCb29sZWFuID0gICAgICh2KSAtPiB0LmNhbGwodikgaXMgJ1tvYmplY3QgQm9vbGVhbl0nXG5leHBvcnQgaXNOdW1iZXIgPSAgICAgICh2KSAtPiAodC5jYWxsKHYpIGlzICdbb2JqZWN0IE51bWJlcl0nKSBhbmQgKGBOdW1iZXIodikudmFsdWVPZigpID09IHZgKSAjIEV4Y2x1ZGVzIE5hTiwgaW5jbHVkZXMgTnVtYmVyKCkgYW5kIEluZmluaXR5XG5leHBvcnQgaXNTdHJpbmcgPSAgICAgICh2KSAtPiB0LmNhbGwodikgaXMgJ1tvYmplY3QgU3RyaW5nXSdcbmV4cG9ydCBpc0FycmF5ID0gICAgICAgQXJyYXkuaXNBcnJheSAgICAjIHQuY2FsbCh2KSBpcyAnW29iamVjdCBBcnJheV0nXG5leHBvcnQgaXNPYmplY3QgPSAgICAgICh2KSAtPiB0LmNhbGwodikgaXMgJ1tvYmplY3QgT2JqZWN0XSdcbmV4cG9ydCBpc0Z1bmN0aW9uID0gICAgKHYpIC0+IHR5cGVvZiB2IGlzICdmdW5jdGlvbidcbmV4cG9ydCB0eXBlR2V0ID0gICAgICAgKHYpIC0+IHQuY2FsbCh2KS5zbGljZSA4LCAtMSAgICAgIyBXQVJOSU5HISB0eXBlR2V0KE5hTikgPT09ICdOdW1iZXInXG4iXX0=\n","// Generated by CoffeeScript 2.7.0\nvar Enum, hasProp, nullObj;\n\nimport {\n  isNumber,\n  isString,\n  isObject,\n  isArray,\n  typeGet\n} from '@voidvolker/is';\n\nhasProp = Object.prototype.hasOwnProperty;\n\nnullObj = function() {\n  return Object.create(null);\n};\n\nEnum = (function() {\n  class Enum {\n    constructor(pairs, arr, options = {}) {\n      var i, key, len, opt, value;\n      this.key = nullObj();\n      this.value = nullObj();\n      // In case of 2 arguments move 'options' from 'arr' (arr/obj and options)\n      if (isObject(arr)) {\n        options = arr;\n        arr = null;\n      }\n      // In case of 1 or 2 arguments move 'arr' from 'obj' (arr, obj and arr; first case)\n      if (isArray(pairs)) {\n        arr = pairs;\n        pairs = null;\n      }\n      opt = Object.assign({}, this.constructor.default, Enum.default, options);\n      this.i = opt.i;\n      if (opt.next) {\n        this.next = opt.next;\n      }\n      // Process key-value pairs\n      if (pairs) {\n        for (key in pairs) {\n          value = pairs[key];\n          if (hasProp.call(this.value, value)) {\n            throw new TypeError(`Enum '${key}: ${value}' value already defined as: '${this.value[value]}: ${value}'`);\n          }\n          if (!isNumber(value)) {\n            throw new TypeError('Only number type enum value is allowed: ' + value);\n          }\n          this.key[key] = value;\n          this.value[value] = key;\n          this.i = value;\n        }\n      }\n      // Process keys with autoincrement\n      if (arr) {\n        for (i = 0, len = arr.length; i < len; i++) {\n          key = arr[i];\n          while (hasProp.call(this.value, this.i.toString())) {\n            this.next();\n          }\n          if (!isString(key)) {\n            throw new TypeError(`Only string enum name is allowed: ${key}<${typeGet(key)}>`);\n          }\n          if (hasProp.call(this.key, key)) {\n            throw new TypeError(`Enum '${key}: ${this.i}' name already defined as: '${key}: ${this.key[key]}'`);\n          }\n          this.key[key] = this.i;\n          this.value[this.i] = key;\n        }\n        this.next();\n      }\n    }\n\n    forKeys(cb, thisArg) {\n      var key;\n      thisArg = thisArg || this;\n      for (key in this.key) {\n        cb.call(thisArg, key);\n      }\n      return this;\n    }\n\n    forValues(cb, thisArg) {\n      var key, ref, value;\n      thisArg = thisArg || this;\n      ref = this.key;\n      for (key in ref) {\n        value = ref[key];\n        cb.call(thisArg, value);\n      }\n      return this;\n    }\n\n    forEach(cb, thisArg) {\n      var key, ref, value;\n      thisArg = thisArg || this;\n      ref = this.key;\n      for (key in ref) {\n        value = ref[key];\n        cb.call(thisArg, key, value);\n      }\n      return this;\n    }\n\n    keys() {\n      var key, results;\n      results = [];\n      for (key in this.key) {\n        results.push(key);\n      }\n      return results;\n    }\n\n    values() {\n      var key, ref, results, value;\n      ref = this.key;\n      results = [];\n      for (key in ref) {\n        value = ref[key];\n        results.push(value);\n      }\n      return results;\n    }\n\n    hasKey(key) {\n      return hasProp.call(this.key, key);\n    }\n\n    hasValue(value) {\n      return hasProp.call(this.value, value);\n    }\n\n    raw() {\n      var key, rawEnm, ref, value;\n      rawEnm = nullObj();\n      ref = this.key;\n      for (key in ref) {\n        value = ref[key];\n        rawEnm[key] = value;\n        rawEnm[value] = key;\n      }\n      rawEnm[Enum.index] = this.i;\n      return rawEnm;\n    }\n\n    static next() {\n      return this.i++;\n    }\n\n    // Enum initiated from global counter\n    static new(obj, arr, options = {}) {\n      var enm;\n      // In case of 2 arguments move 'options' from 'arr' (arr/obj and options)\n      if (isObject(arr)) {\n        options = arr;\n        arr = null;\n      }\n      if (!options.hasOwnProperty('i')) {\n        // Set global counter\n        options.i = this.i;\n      }\n      // Create new enum using global counter and this as constructor\n      enm = new this(obj, arr, options);\n      this.i = enm.i;\n      return enm;\n    }\n\n    static raw(obj, arr, options) {\n      return new this(obj, arr, options).raw();\n    }\n\n    static fromRaw(rawEnm) {\n      var key, keys, value;\n      keys = {};\n      for (key in rawEnm) {\n        value = rawEnm[key];\n        if (isNumber(value)) {\n          keys[key] = value;\n        }\n      }\n      return new this(keys);\n    }\n\n  };\n\n  Enum.default = {\n    i: 0\n  };\n\n  Enum.prototype.next = Enum.next;\n\n  // Index symbol for raw enums\n  Enum.index = Symbol('i');\n\n  // Global counter\n  Enum.i = 0;\n\n  return Enum;\n\n}).call(this);\n\nexport default Enum;\n\nexport {\n  Enum\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW51bS5qcyIsInNvdXJjZVJvb3QiOiIuLi8iLCJzb3VyY2VzIjpbInNyYy9lbnVtLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBOztBQUFBLE9BQUE7RUFBUyxRQUFUO0VBQW1CLFFBQW5CO0VBQTZCLFFBQTdCO0VBQXVDLE9BQXZDO0VBQWdELE9BQWhEO0NBQUEsTUFBQTs7QUFFQSxPQUFBLEdBQVUsTUFBTSxDQUFDLFNBQVMsQ0FBQzs7QUFDM0IsT0FBQSxHQUFVLFFBQUEsQ0FBQSxDQUFBO1NBQUcsTUFBTSxDQUFDLE1BQVAsQ0FBYyxJQUFkO0FBQUg7O0FBRUo7RUFBTixNQUFBLEtBQUE7SUFLSSxXQUFhLENBQUMsS0FBRCxFQUFRLEdBQVIsRUFBYSxVQUFVLENBQUEsQ0FBdkIsQ0FBQTtBQUNqQixVQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQTtNQUFRLElBQUMsQ0FBQSxHQUFELEdBQU8sT0FBQSxDQUFBO01BQ1AsSUFBQyxDQUFBLEtBQUQsR0FBUyxPQUFBLENBQUEsRUFEakI7O01BSVEsSUFBRyxRQUFBLENBQVMsR0FBVCxDQUFIO1FBQ0ksT0FBQSxHQUFVO1FBQ1YsR0FBQSxHQUFNLEtBRlY7T0FKUjs7TUFTUSxJQUFHLE9BQUEsQ0FBUSxLQUFSLENBQUg7UUFDSSxHQUFBLEdBQU07UUFDTixLQUFBLEdBQVEsS0FGWjs7TUFJQSxHQUFBLEdBQU0sTUFBTSxDQUFDLE1BQVAsQ0FBYyxDQUFBLENBQWQsRUFBa0IsSUFBQyxDQUFBLFdBQVcsQ0FBQyxPQUEvQixFQUF3QyxJQUFJLENBQUMsT0FBN0MsRUFBc0QsT0FBdEQ7TUFDTixJQUFDLENBQUEsQ0FBRCxHQUFLLEdBQUcsQ0FBQztNQUNULElBQW9CLEdBQUcsQ0FBQyxJQUF4QjtRQUFBLElBQUMsQ0FBQSxJQUFELEdBQVEsR0FBRyxDQUFDLEtBQVo7T0FmUjs7TUFrQlEsSUFBRyxLQUFIO1FBQ0ksS0FB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YUFBdUIsSUFBSSxJQUFKLENBQU0sR0FBTixFQUFXLEdBQVgsRUFBZ0IsT0FBaEIsQ0FBd0IsQ0FBQyxHQUF6QixDQUFBO0lBQXZCOztJQUVJLE9BQVQsT0FBUyxDQUFDLE1BQUQsQ0FBQTtBQUNkLFVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQTtNQUFRLElBQUEsR0FBTyxDQUFBO01BQ1AsS0FBQSxhQUFBOztRQUNJLElBQUcsUUFBQSxDQUFTLEtBQVQsQ0FBSDtVQUNJLElBQUksQ0FBQyxHQUFELENBQUosR0FBWSxNQURoQjs7TUFESjthQUdBLElBQUksSUFBSixDQUFNLElBQU47SUFMTTs7RUF6R2Q7O0VBRUksSUFBQyxDQUFBLE9BQUQsR0FDSTtJQUFBLENBQUEsRUFBRztFQUFIOztpQkE2RUosSUFBQSxHQUFNLElBQUksQ0FBQzs7O0VBR1gsSUFBQyxDQUFBLEtBQUQsR0FBUSxNQUFBLENBQU8sR0FBUDs7O0VBR1IsSUFBQyxDQUFBLENBQUQsR0FBSTs7Ozs7O0FBMkJSLE9BQUEsUUFBZTs7QUFDZixPQUFBO0VBQVMsSUFBVCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTnVtYmVyLCBpc1N0cmluZywgaXNPYmplY3QsIGlzQXJyYXksIHR5cGVHZXQgfSBmcm9tICdAdm9pZHZvbGtlci9pcydcblxuaGFzUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbm51bGxPYmogPSAtPiBPYmplY3QuY3JlYXRlIG51bGxcblxuY2xhc3MgRW51bVxuXG4gICAgQGRlZmF1bHQ6XG4gICAgICAgIGk6IDBcblxuICAgIGNvbnN0cnVjdG9yOiAocGFpcnMsIGFyciwgb3B0aW9ucyA9IHt9KSAtPlxuICAgICAgICBAa2V5ID0gbnVsbE9iaigpXG4gICAgICAgIEB2YWx1ZSA9IG51bGxPYmooKVxuXG4gICAgICAgICMgSW4gY2FzZSBvZiAyIGFyZ3VtZW50cyBtb3ZlICdvcHRpb25zJyBmcm9tICdhcnInIChhcnIvb2JqIGFuZCBvcHRpb25zKVxuICAgICAgICBpZiBpc09iamVjdCBhcnJcbiAgICAgICAgICAgIG9wdGlvbnMgPSBhcnJcbiAgICAgICAgICAgIGFyciA9IG51bGxcblxuICAgICAgICAjIEluIGNhc2Ugb2YgMSBvciAyIGFyZ3VtZW50cyBtb3ZlICdhcnInIGZyb20gJ29iaicgKGFyciwgb2JqIGFuZCBhcnI7IGZpcnN0IGNhc2UpXG4gICAgICAgIGlmIGlzQXJyYXkgcGFpcnNcbiAgICAgICAgICAgIGFyciA9IHBhaXJzXG4gICAgICAgICAgICBwYWlycyA9IG51bGxcblxuICAgICAgICBvcHQgPSBPYmplY3QuYXNzaWduIHt9LCBAY29uc3RydWN0b3IuZGVmYXVsdCwgRW51bS5kZWZhdWx0LCBvcHRpb25zXG4gICAgICAgIEBpID0gb3B0LmlcbiAgICAgICAgQG5leHQgPSBvcHQubmV4dCBpZiBvcHQubmV4dFxuXG4gICAgICAgICMgUHJvY2VzcyBrZXktdmFsdWUgcGFpcnNcbiAgICAgICAgaWYgcGFpcnNcbiAgICAgICAgICAgIGZvciBrZXksIHZhbHVlIG9mIHBhaXJzXG4gICAgICAgICAgICAgICAgaWYgaGFzUHJvcC5jYWxsIEB2YWx1ZSwgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvciBcIkVudW0gJyN7a2V5fTogI3t2YWx1ZX0nIHZhbHVlIGFscmVhZHkgZGVmaW5lZCBhczogJyN7QHZhbHVlW3ZhbHVlXX06ICN7dmFsdWV9J1wiXG4gICAgICAgICAgICAgICAgaWYgbm90IGlzTnVtYmVyIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IgJ09ubHkgbnVtYmVyIHR5cGUgZW51bSB2YWx1ZSBpcyBhbGxvd2VkOiAnICsgdmFsdWVcbiAgICAgICAgICAgICAgICBAa2V5W2tleV0gPSB2YWx1ZVxuICAgICAgICAgICAgICAgIEB2YWx1ZVt2YWx1ZV0gPSBrZXlcbiAgICAgICAgICAgICAgICBAaSA9IHZhbHVlXG5cbiAgICAgICAgIyBQcm9jZXNzIGtleXMgd2l0aCBhdXRvaW5jcmVtZW50XG4gICAgICAgIGlmIGFyclxuICAgICAgICAgICAgZm9yIGtleSBpbiBhcnJcbiAgICAgICAgICAgICAgICBAbmV4dCgpIHdoaWxlIGhhc1Byb3AuY2FsbCBAdmFsdWUsIEBpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICBpZiBub3QgaXNTdHJpbmcga2V5XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IgXCJPbmx5IHN0cmluZyBlbnVtIG5hbWUgaXMgYWxsb3dlZDogI3trZXl9PCN7dHlwZUdldCBrZXl9PlwiXG4gICAgICAgICAgICAgICAgaWYgaGFzUHJvcC5jYWxsIEBrZXksIGtleVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yIFwiRW51bSAnI3trZXl9OiAje0BpfScgbmFtZSBhbHJlYWR5IGRlZmluZWQgYXM6ICcje2tleX06ICN7QGtleVtrZXldfSdcIlxuICAgICAgICAgICAgICAgIEBrZXlba2V5XSA9IEBpXG4gICAgICAgICAgICAgICAgQHZhbHVlW0BpXSA9IGtleVxuICAgICAgICAgICAgQG5leHQoKVxuXG4gICAgZm9yS2V5czogKGNiLCB0aGlzQXJnKSAtPlxuICAgICAgICB0aGlzQXJnID0gdGhpc0FyZyBvciBAXG4gICAgICAgIGZvciBrZXkgb2YgQGtleVxuICAgICAgICAgICAgY2IuY2FsbCB0aGlzQXJnLCBrZXlcbiAgICAgICAgQFxuXG4gICAgZm9yVmFsdWVzOiAoY2IsIHRoaXNBcmcpIC0+XG4gICAgICAgIHRoaXNBcmcgPSB0aGlzQXJnIG9yIEBcbiAgICAgICAgZm9yIGtleSwgdmFsdWUgb2YgQGtleVxuICAgICAgICAgICAgY2IuY2FsbCB0aGlzQXJnLCB2YWx1ZVxuICAgICAgICBAXG5cbiAgICBmb3JFYWNoOiAoY2IsIHRoaXNBcmcpIC0+XG4gICAgICAgIHRoaXNBcmcgPSB0aGlzQXJnIG9yIEBcbiAgICAgICAgZm9yIGtleSwgdmFsdWUgb2YgQGtleVxuICAgICAgICAgICAgY2IuY2FsbCB0aGlzQXJnLCBrZXksIHZhbHVlXG4gICAgICAgIEBcblxuICAgIGtleXM6IC0+IGtleSBmb3Iga2V5IG9mIEBrZXlcblxuICAgIHZhbHVlczogLT4gdmFsdWUgZm9yIGtleSwgdmFsdWUgb2YgQGtleVxuXG4gICAgaGFzS2V5OiAoa2V5KSAtPiBoYXNQcm9wLmNhbGwgQGtleSwga2V5XG5cbiAgICBoYXNWYWx1ZTogKHZhbHVlKSAtPiBoYXNQcm9wLmNhbGwgQHZhbHVlLCB2YWx1ZVxuXG4gICAgcmF3OiAtPlxuICAgICAgICByYXdFbm0gPSBudWxsT2JqKClcbiAgICAgICAgZm9yIGtleSwgdmFsdWUgb2YgQGtleVxuICAgICAgICAgICAgcmF3RW5tW2tleV0gPSB2YWx1ZVxuICAgICAgICAgICAgcmF3RW5tW3ZhbHVlXSA9IGtleVxuICAgICAgICByYXdFbm1bRW51bS5pbmRleF0gPSBAaVxuICAgICAgICByYXdFbm1cblxuICAgIG5leHQ6IEVudW0ubmV4dFxuXG4gICAgIyBJbmRleCBzeW1ib2wgZm9yIHJhdyBlbnVtc1xuICAgIEBpbmRleDogU3ltYm9sICdpJ1xuXG4gICAgIyBHbG9iYWwgY291bnRlclxuICAgIEBpOiAwXG5cbiAgICBAbmV4dDogLT4gQGkrK1xuXG4gICAgIyBFbnVtIGluaXRpYXRlZCBmcm9tIGdsb2JhbCBjb3VudGVyXG4gICAgQG5ldzogKG9iaiwgYXJyLCBvcHRpb25zID0ge30pIC0+XG4gICAgICAgICMgSW4gY2FzZSBvZiAyIGFyZ3VtZW50cyBtb3ZlICdvcHRpb25zJyBmcm9tICdhcnInIChhcnIvb2JqIGFuZCBvcHRpb25zKVxuICAgICAgICBpZiBpc09iamVjdCBhcnJcbiAgICAgICAgICAgIG9wdGlvbnMgPSBhcnJcbiAgICAgICAgICAgIGFyciA9IG51bGxcbiAgICAgICAgIyBTZXQgZ2xvYmFsIGNvdW50ZXJcbiAgICAgICAgb3B0aW9ucy5pID0gQGkgaWYgbm90IG9wdGlvbnMuaGFzT3duUHJvcGVydHkgJ2knXG4gICAgICAgICMgQ3JlYXRlIG5ldyBlbnVtIHVzaW5nIGdsb2JhbCBjb3VudGVyIGFuZCB0aGlzIGFzIGNvbnN0cnVjdG9yXG4gICAgICAgIGVubSA9IG5ldyBAIG9iaiwgYXJyLCBvcHRpb25zXG4gICAgICAgIEBpID0gZW5tLmlcbiAgICAgICAgZW5tXG5cbiAgICBAcmF3OiAob2JqLCBhcnIsIG9wdGlvbnMpIC0+IG5ldyBAKG9iaiwgYXJyLCBvcHRpb25zKS5yYXcoKVxuXG4gICAgQGZyb21SYXc6IChyYXdFbm0pIC0+XG4gICAgICAgIGtleXMgPSB7fVxuICAgICAgICBmb3Iga2V5LCB2YWx1ZSBvZiByYXdFbm1cbiAgICAgICAgICAgIGlmIGlzTnVtYmVyIHZhbHVlXG4gICAgICAgICAgICAgICAga2V5c1trZXldID0gdmFsdWVcbiAgICAgICAgbmV3IEAga2V5c1xuXG5cbmV4cG9ydCBkZWZhdWx0IEVudW1cbmV4cG9ydCB7IEVudW0gfVxuIl19\n"],"mappings":"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"}